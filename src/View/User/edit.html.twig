{% extends 'layout.html.twig' %}

{% block title %}Modifier mon profil{% endblock %}

{% block content %}
<body class="row">
    <h1>Modifier mon profil</h1>
    <form method="post">
    <input type="hidden" value="{{ user.id }}" name="id">
    <div>
        <label for="firstname" class="form-label mt-4">Prénom : </label>
        <input type="text" value="{{ user.firstname }}" name="firstname" class="form-control">
    </div>
    <div>
        <label for="lastname" class="form-label mt-4">Nom : </label>
        <input type="text" value="{{ user.lastname }}" name="lastname" class="form-control">
    </div>
    <div>
        <label for="email" class="form-label mt-4">Courriel : </label>
        <input type="email" value="{{ user.email }}" name="email" class="form-control">
    </div>
    <div>
        <label for="phone" class="form-label mt-4">Télephone : </label>
        <input type="text" value="{{ user.phone }}" name="phone" class="form-control">
    </div>
    <div>
        <label for="password" class="form-label mt-4">Mot de passe : </label>
        <input type="password" name="password" placeholder="laisser vide si non modifié" class="form-control">
    </div>

    {% if "ROLE_ADMIN" in appUser.role %}
    <label for="labels" class="form-label mt-4">Roles :</label>
    <div class="form-check form-switch">
        {% for role in roles %}
        <label class="form-check-label">
            <input type="radio" class="form-check-input" type="checkbox" name="{{ role }}" value="on"
            {% if role in user.role %}checked=""{% endif %}
            >
            {{ role }}
        </label> <br>
        {% endfor %}
    </div>
    {% endif %}
    
    <input type="submit" class="btn btn-primary mt-3 mb-3" value="Modifier">
</form>

{% if "ROLE_ADMIN" in appUser.role %}
    <a href="/user/delete/{{ user.id }}" class="btn btn-danger">supprimer cet utilisateur</a>
{% endif %}
</body>
{% endblock %}
